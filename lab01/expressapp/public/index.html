<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8">
		<title>Привет от NodeJS!!!</title>
		<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	</head>
	<body>
		<h1>Главная страница!</h1>
		<br>
		<div>
			<p>
			Просто CRUD сервер. Для проверки GET, POST, PATCH, DELETE вводим:
			</p>
			<ul>
				<li>GET <a href="/crud/users">/crud/users</a></li>
				<li>POST <a href="/post">/crud/users</a></li>
				<li>PATCH <a href="/patch">/crud/users/{id}</a></li>
				<form><li>DELETE  /crud/users/<input name="id" placeholder="userId" /> <button name="delete" id="delete">Удалить</button></li></form>
			</ul>
		</div>

		<script>
			// Удаление пользователя
			function DeleteUser(id) {
            $.ajax({
                url: "crud/users/" + id,
                contentType: "application/json",
                method: "DELETE",
                success: function (user) {
                    console.log(user + " with id=" + id + " deleted!");
                }
            })
		}		
	
		// отправка формы
        $("form").submit(function (e) {
            e.preventDefault();
            var id = this.elements["id"].value;
            DeleteUser(id);
        });
		</script>
		
	</body>
</html>